{
    "version": "2.0.0",
    "tasks": [
        // CMake + Ninja
        {
            "label": "Config",
            "type": "shell",
            "command": "${config:cmake.path}",  // 使用配置中的 CMake 路径
            "args": [
                "-G",
                "${config:cmake.generator}",
                "-B",
                "${workspaceFolder}/build",
                "-DCMAKE_BUILD_TYPE=Debug"  // 调试模式（如果需要debug，须开启此处）
                // "-DCMAKE_BUILD_TYPE=Release"  // 发布模式
            ],
            "group": "build"
        },
        {
            "label": "Build",
            "type": "shell",
            "command": "${config:ninja.path}",  // 使用 Ninja 路径
            "args": [
                "-C",
                "${workspaceFolder}/build"
            ],
            "group": "build",
            // "dependsOn": "Config"
        },
        {
            "label": "Run",
            "type": "shell",
            "command": "${workspaceFolder}/build/${config:project.name}.exe",
            "dependsOn": "Build",
            "group": "build"
        },
        {
            "label": "Clean",
            "type": "shell",
            "command": "${config:ninja.path}",  // 使用 Ninja 路径
            "args": [
                "-C",
                "${workspaceFolder}/build",
                "clean"
            ],
            "group": "build"
        },
        // 删除 build 文件夹
        {
                "label": "Clean All",
                "type": "shell",
                "command": "powershell",
                "args": [
                    "-Command",
                    "if (Test-Path ${workspaceFolder}/build) { Remove-Item -Recurse -Force ${workspaceFolder}/build }"
                ],
                "group": "build"
        },

    ]
}